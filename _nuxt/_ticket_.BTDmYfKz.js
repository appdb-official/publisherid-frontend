import{_ as x}from"./v-input.vue.DTzx0bzX.js";import{_ as g}from"./v-label.vue.BeOgxoUI.js";import{_ as h}from"./v-button.vue.C_Pv1fgj.js";import{_ as k}from"./nuxt-link.CY5ducQa.js";import{n as b,f as V,g as w,r as y,k as S,o as N,c as B,a as i,b as o,w as r,i as c,d as _,v as C,l as $}from"./entry.MyYndEul.js";function A(t){if(t.startsWith("http")){location.href=t;return}b(t)}const L={class:"flex flex-col items-center gap-4"},T={class:"flex w-72 flex-col gap-2"},U={class:"text-sm"},j=V({__name:"[ticket]",setup(t){const l=w(),a=y({"2fa_code":"",ticket:l.params.ticket}),s=S(!1);async function f(){s.value=!0;try{const e=await C(a);if(await $().login(e.staff_token),e.redirect_uri)return A(e.redirect_uri)}finally{s.value=!1}}return(e,n)=>{const u=x,m=g,d=h,p=k;return N(),B("div",L,[i("form",T,[o(m,{label:"Authentication code"},{default:r(()=>[o(u,{modelValue:c(a)["2fa_code"],"onUpdate:modelValue":n[0]||(n[0]=v=>c(a)["2fa_code"]=v),autofocus:""},null,8,["modelValue"])]),_:1}),o(d,{variant:"primary",class:"mt-2",loading:c(s),onClick:f},{default:r(()=>[_(" Login ")]),_:1},8,["loading"])]),i("p",U,[o(p,{to:"/auth"},{default:r(()=>[_("Sign In")]),_:1})])])}}});export{j as default};
//# sourceMappingURL=_ticket_.BTDmYfKz.js.map
