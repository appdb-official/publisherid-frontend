import{_ as B}from"./v-input.vue.DTzx0bzX.js";import{_ as I}from"./v-label.vue.BeOgxoUI.js";import{f as y,z as U,o as u,c,a as d,A as R,B as x,C as T,D,E,m as F,r as L,k,h as M,b as o,w as l,i as t,d as i,F as V,G as j,H as q,I as z,n as G,x as H,t as P}from"./entry.MyYndEul.js";import{_ as J}from"./v-button.vue.C_Pv1fgj.js";import{_ as K}from"./nuxt-link.CY5ducQa.js";import{u as O}from"./useRecaptcha.mhDqHImI.js";const Q={class:"flex items-center gap-3"},W=y({__name:"v-checkbox",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(_){const s=U(_,"modelValue");return(p,r)=>{const e=D;return u(),c("div",Q,[d("div",{class:"flex h-5 w-5 shrink-0 cursor-pointer items-center justify-center rounded-sm border bg-gray-50 dark:border-gray-400 dark:bg-gray-600",onClick:r[0]||(r[0]=m=>s.value=!s.value)},[s.value?(u(),R(e,{key:0,name:"tabler:check"})):x("",!0)]),d("p",null,[T(p.$slots,"default")])])}}});function X(_={}){return E.get("get_agreements",{params:_})}const Y={class:"flex flex-col items-center gap-4"},Z={class:"flex w-96 flex-col gap-2"},ee=["href"],ae={class:"text-sm"},ue=y({__name:"sign-up",async setup(_){let s,p;const r=F();r.email="";const e=L({app_id:r.appID,name:"",surname:"",phone:"",email:"","g-recaptcha-response":""}),m=k(!1),v=([s,p]=M(()=>X({required_for:"account_creation"})),s=await s,p(),s),w=O(),h=k(!1);async function C(){h.value=!0;try{e["g-recaptcha-response"]=await w(),await z(e),r.email=e.email,G("/auth");const{notifySuccess:b}=H();b("Check your email for further instructions")}finally{h.value=!1}}return(b,n)=>{const f=B,g=I,S=W,$=J,N=K;return u(),c("div",Y,[d("form",Z,[o(g,{label:"Name"},{default:l(()=>[o(f,{modelValue:t(e).name,"onUpdate:modelValue":n[0]||(n[0]=a=>t(e).name=a)},null,8,["modelValue"])]),_:1}),o(g,{label:"Surname"},{default:l(()=>[o(f,{modelValue:t(e).surname,"onUpdate:modelValue":n[1]||(n[1]=a=>t(e).surname=a)},null,8,["modelValue"])]),_:1}),o(g,{label:"Phone (international format)"},{default:l(()=>[o(f,{modelValue:t(e).phone,"onUpdate:modelValue":n[2]||(n[2]=a=>t(e).phone=a)},null,8,["modelValue"])]),_:1}),o(g,{label:"Email"},{default:l(()=>[o(f,{modelValue:t(e).email,"onUpdate:modelValue":n[3]||(n[3]=a=>t(e).email=a),type:"email"},null,8,["modelValue"])]),_:1}),o(S,{modelValue:t(m),"onUpdate:modelValue":n[4]||(n[4]=a=>q(m)?m.value=a:null),class:"mt-1"},{default:l(()=>[i(" I agree with "),(u(!0),c(V,null,j(t(v),(a,A)=>(u(),c(V,{key:a.id},[d("a",{href:a.uri,target:"_blank"},P(a.name),9,ee),A!==t(v).length-1?(u(),c(V,{key:0},[i(", ")],64)):x("",!0)],64))),128))]),_:1},8,["modelValue"]),o($,{disabled:!t(m),variant:"primary",class:"mt-2",loading:t(h),onClick:C},{default:l(()=>[i(" Register ")]),_:1},8,["disabled","loading"])]),d("p",ae,[i("Already have an account? "),o(N,{to:"/auth"},{default:l(()=>[i("Sign In")]),_:1})])])}}});export{ue as default};
//# sourceMappingURL=sign-up.Hcy3HBK_.js.map
