import{_ as w}from"./BeYpIFLg.js";import{_ as g}from"./BlycD3Sm.js";import{_ as v}from"./BpC0xKJw.js";import{_ as V}from"./D0rYX6lN.js";import{_ as y}from"./siyGK-QX.js";import{f as b,r as x,k as h,c as C,b as a,w as t,a as u,i as s,l as N,o as $,d as i,L as k,y as S,m as U}from"./CqRGkKwX.js";import"./GVbg-fnS.js";const B={class:"flex w-72 flex-col gap-5"},j=b({__name:"change-password",setup(z){const o=x({password:"",new_password:"","2fa_code":""}),l=h(!1);async function f(){l.value=!0;try{const _=await k(o),{notifySuccess:e}=S();e("Your password was changed"),o.password="",o.new_password="",o["2fa_code"]="",U().login(_.staff_token)}finally{l.value=!1}}return(_,e)=>{const p=w,r=g,d=v,m=V,c=y;return $(),C("div",null,[a(p,null,{default:t(()=>[i("Change password")]),_:1}),u("form",{class:"flex flex-col gap-5",onSubmit:N(f,["prevent"])},[u("div",B,[a(d,{label:"Current password"},{default:t(()=>[a(r,{modelValue:s(o).password,"onUpdate:modelValue":e[0]||(e[0]=n=>s(o).password=n),type:"password"},null,8,["modelValue"])]),_:1}),a(d,{label:"New password"},{default:t(()=>[a(r,{modelValue:s(o).new_password,"onUpdate:modelValue":e[1]||(e[1]=n=>s(o).new_password=n),type:"password"},null,8,["modelValue"])]),_:1}),a(d,{label:"Authentication code"},{default:t(()=>[a(r,{modelValue:s(o)["2fa_code"],"onUpdate:modelValue":e[2]||(e[2]=n=>s(o)["2fa_code"]=n)},null,8,["modelValue"])]),_:1})]),a(m,null,{default:t(()=>[i("Changing of your password will log you out from all authorized applications")]),_:1}),a(c,{class:"self-start",variant:"primary",loading:s(l)},{default:t(()=>[i(" Change ")]),_:1},8,["loading"])],32)])}}});export{j as default};
//# sourceMappingURL=iKXCkw-L.js.map
