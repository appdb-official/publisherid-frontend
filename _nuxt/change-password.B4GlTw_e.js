import{_ as w}from"./v-h1.vue.CCjK52hW.js";import{_ as g}from"./v-input.vue.bOHnG8X4.js";import{_ as V}from"./v-label.vue.DllddGmL.js";import{_ as v}from"./v-info.vue.CRQ5LyZA.js";import{_ as x}from"./v-button.vue.Bgz-s2Nz.js";import{f as y,r as b,k as h,o as C,c as k,b as a,w as t,d as _,a as u,i as s,K as N,x as $,l as U}from"./entry.CSXxZX26.js";import"./nuxt-link.yX7Kd8Zl.js";const B={class:"flex flex-col gap-5"},S={class:"flex w-72 flex-col gap-5"},q=y({__name:"change-password",setup(z){const o=b({password:"",new_password:"","2fa_code":""}),l=h(!1);async function f(){l.value=!0;try{const i=await N(o),{notifySuccess:e}=$();e("Your password was changed"),o.password="",o.new_password="",o["2fa_code"]="",U().login(i.staff_token)}finally{l.value=!1}}return(i,e)=>{const p=w,r=g,d=V,c=v,m=x;return C(),k("div",null,[a(p,null,{default:t(()=>[_("Change password")]),_:1}),u("form",B,[u("div",S,[a(d,{label:"Current password"},{default:t(()=>[a(r,{modelValue:s(o).password,"onUpdate:modelValue":e[0]||(e[0]=n=>s(o).password=n),type:"password"},null,8,["modelValue"])]),_:1}),a(d,{label:"New password"},{default:t(()=>[a(r,{modelValue:s(o).new_password,"onUpdate:modelValue":e[1]||(e[1]=n=>s(o).new_password=n),type:"password"},null,8,["modelValue"])]),_:1}),a(d,{label:"Authentication code"},{default:t(()=>[a(r,{modelValue:s(o)["2fa_code"],"onUpdate:modelValue":e[2]||(e[2]=n=>s(o)["2fa_code"]=n)},null,8,["modelValue"])]),_:1})]),a(c,null,{default:t(()=>[_("Changing of your password will log you out from all authorized applications")]),_:1}),a(m,{class:"self-start",variant:"primary",loading:s(l),onClick:f},{default:t(()=>[_(" Change ")]),_:1},8,["loading"])])])}}});export{q as default};
//# sourceMappingURL=change-password.B4GlTw_e.js.map
