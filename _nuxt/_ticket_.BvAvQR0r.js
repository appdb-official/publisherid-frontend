import{_ as x}from"./v-input.vue.DHiE7k8L.js";import{_ as g}from"./v-label.vue.CCcuQQfk.js";import{_ as h}from"./v-button.vue.CRS168FE.js";import{_ as k}from"./nuxt-link.53p7fObJ.js";import{n as b,f as V,g as w,r as y,j as S,o as N,c as B,a as i,b as o,w as r,i as c,d as _,k as C}from"./entry.SbrBP_Q0.js";import{v as $}from"./auth.BqcnnTHu.js";function A(t){if(t.startsWith("http")){location.href=t;return}b(t)}const L={class:"flex flex-col items-center gap-4"},T={class:"flex w-72 flex-col gap-2"},U={class:"text-sm"},q=V({__name:"[ticket]",setup(t){const f=w(),a=y({"2fa_code":"",ticket:f.params.ticket}),s=S(!1);async function l(){s.value=!0;try{const e=await $(a);if(await C().login(e.staff_token),e.redirect_uri)return A(e.redirect_uri)}finally{s.value=!1}}return(e,n)=>{const u=x,m=g,d=h,p=k;return N(),B("div",L,[i("form",T,[o(m,{label:"Authentication code"},{default:r(()=>[o(u,{modelValue:c(a)["2fa_code"],"onUpdate:modelValue":n[0]||(n[0]=v=>c(a)["2fa_code"]=v),autofocus:""},null,8,["modelValue"])]),_:1}),o(d,{variant:"primary",class:"mt-2",loading:c(s),onClick:l},{default:r(()=>[_(" Login ")]),_:1},8,["loading"])]),i("p",U,[o(p,{to:"/auth"},{default:r(()=>[_("Sign In")]),_:1})])])}}});export{q as default};
//# sourceMappingURL=_ticket_.BvAvQR0r.js.map
