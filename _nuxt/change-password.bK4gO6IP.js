import{_ as w}from"./v-h1.vue._Gw1GFUw.js";import{_ as g}from"./v-input.vue.DHiE7k8L.js";import{_ as V}from"./v-label.vue.CCcuQQfk.js";import{_ as v}from"./v-info.vue.DFt2J0vH.js";import{_ as y}from"./v-button.vue.CRS168FE.js";import{c as b}from"./auth.BqcnnTHu.js";import{f as x,r as h,j as C,o as k,c as N,b as a,w as t,d as _,a as f,i as s,B as $,k as B}from"./entry.SbrBP_Q0.js";import"./nuxt-link.53p7fObJ.js";const U={class:"flex flex-col gap-5"},S={class:"flex w-72 flex-col gap-5"},F=x({__name:"change-password",setup(j){const o=h({password:"",new_password:"","2fa_code":""}),l=C(!1);async function u(){l.value=!0;try{const i=await b(o),{notifySuccess:e}=$();e("Your password was changed"),o.password="",o.new_password="",o["2fa_code"]="",B().login(i.staff_token)}finally{l.value=!1}}return(i,e)=>{const p=w,r=g,d=V,c=v,m=y;return k(),N("div",null,[a(p,null,{default:t(()=>[_("Change password")]),_:1}),f("form",U,[f("div",S,[a(d,{label:"Current password"},{default:t(()=>[a(r,{modelValue:s(o).password,"onUpdate:modelValue":e[0]||(e[0]=n=>s(o).password=n),type:"password"},null,8,["modelValue"])]),_:1}),a(d,{label:"New password"},{default:t(()=>[a(r,{modelValue:s(o).new_password,"onUpdate:modelValue":e[1]||(e[1]=n=>s(o).new_password=n),type:"password"},null,8,["modelValue"])]),_:1}),a(d,{label:"Authentication code"},{default:t(()=>[a(r,{modelValue:s(o)["2fa_code"],"onUpdate:modelValue":e[2]||(e[2]=n=>s(o)["2fa_code"]=n)},null,8,["modelValue"])]),_:1})]),a(c,null,{default:t(()=>[_("Changing of your password will log you out from all authorized applications")]),_:1}),a(m,{class:"self-start",variant:"primary",loading:s(l),onClick:u},{default:t(()=>[_(" Change ")]),_:1},8,["loading"])])])}}});export{F as default};
//# sourceMappingURL=change-password.bK4gO6IP.js.map
