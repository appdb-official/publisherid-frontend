import{_ as B}from"./DQxZoIO3.js";import{_ as I}from"./CAz5LjV0.js";import{f as k,A as U,c,a as d,B as R,C as x,D as T,o as u,E as D,F as E,q as M,r as q,k as y,h as F,b as o,w as l,i as t,G as L,l as j,d as m,H as V,I as G,J as H,n as J,y as P,t as z}from"./DSw_aMUb.js";import{_ as K}from"./B_EbJGhF.js";import{_ as O}from"./IuV7Npud.js";import{u as Q}from"./ClUUDHIT.js";const W={class:"flex items-center gap-3"},X=k({__name:"v-checkbox",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(p){const s=U(p,"modelValue");return(_,r)=>{const e=D;return u(),c("div",W,[d("div",{class:"flex h-5 w-5 shrink-0 cursor-pointer items-center justify-center rounded-sm border bg-gray-50 dark:border-gray-400 dark:bg-gray-600",onClick:r[0]||(r[0]=i=>s.value=!s.value)},[s.value?(u(),R(e,{key:0,name:"tabler:check"})):x("",!0)]),d("p",null,[T(_.$slots,"default")])])}}});function Y(p={}){return E.get("get_agreements",{params:p})}const Z={class:"flex flex-col items-center gap-4"},ee=["href"],ae={class:"text-sm"},ue=k({__name:"sign-up",async setup(p){let s,_;const r=M();r.email="";const e=q({app_id:r.appID,name:"",surname:"",phone:"",email:"","g-recaptcha-response":""}),i=y(!1),v=([s,_]=F(()=>Y({required_for:"account_creation"})),s=await s,_(),s),w=Q(),h=y(!1);async function S(){h.value=!0;try{e["g-recaptcha-response"]=await w(),await H(e),r.email=e.email,J("/auth");const{notifySuccess:b}=P();b("Check your email for further instructions")}finally{h.value=!1}}return(b,n)=>{const f=B,g=I,$=X,C=K,N=O;return u(),c("div",Z,[d("form",{class:"flex w-96 flex-col gap-2",onSubmit:j(S,["prevent"])},[o(g,{label:"Name"},{default:l(()=>[o(f,{modelValue:t(e).name,"onUpdate:modelValue":n[0]||(n[0]=a=>t(e).name=a)},null,8,["modelValue"])]),_:1}),o(g,{label:"Surname"},{default:l(()=>[o(f,{modelValue:t(e).surname,"onUpdate:modelValue":n[1]||(n[1]=a=>t(e).surname=a)},null,8,["modelValue"])]),_:1}),o(g,{label:"Phone (international format)"},{default:l(()=>[o(f,{modelValue:t(e).phone,"onUpdate:modelValue":n[2]||(n[2]=a=>t(e).phone=a)},null,8,["modelValue"])]),_:1}),o(g,{label:"Email"},{default:l(()=>[o(f,{modelValue:t(e).email,"onUpdate:modelValue":n[3]||(n[3]=a=>t(e).email=a),type:"email"},null,8,["modelValue"])]),_:1}),o($,{modelValue:t(i),"onUpdate:modelValue":n[4]||(n[4]=a=>L(i)?i.value=a:null),class:"mt-1"},{default:l(()=>[m(" I agree with "),(u(!0),c(V,null,G(t(v),(a,A)=>(u(),c(V,{key:a.id},[d("a",{href:a.uri,target:"_blank"},z(a.name),9,ee),A!==t(v).length-1?(u(),c(V,{key:0},[m(", ")],64)):x("",!0)],64))),128))]),_:1},8,["modelValue"]),o(C,{disabled:!t(i),variant:"primary",class:"mt-2",loading:t(h)},{default:l(()=>[m(" Register ")]),_:1},8,["disabled","loading"])],32),d("p",ae,[m("Already have an account? "),o(N,{to:"/auth"},{default:l(()=>[m("Sign In")]),_:1})])])}}});export{ue as default};
//# sourceMappingURL=DM-_04Fs.js.map
