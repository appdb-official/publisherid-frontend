import{_ as B}from"./v-input.vue.C_swhJSt.js";import{_ as U}from"./v-label.vue.YXiMGulb.js";import{f as k,m as I,o as u,c,a as d,q as R,s as x,v as T,x as j,y as q,l as D,r as E,j as b,h as F,b as o,w as l,i as t,d as i,F as V,z as L,A as M,n as z,B as P,t as G}from"./entry.BymK1TOf.js";import{_ as H}from"./v-button.vue.DhYv8LXD.js";import{_ as J}from"./nuxt-link.veOAadu-.js";import{u as K}from"./useRecaptcha.mvei-ZEX.js";import{s as O}from"./auth.D2tNwLdk.js";const Q={class:"flex items-center gap-3"},W=k({__name:"v-checkbox",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(_){const s=I(_,"modelValue");return(p,r)=>{const e=j;return u(),c("div",Q,[d("div",{class:"flex h-5 w-5 shrink-0 cursor-pointer items-center justify-center rounded-sm border bg-gray-50 dark:border-gray-400 dark:bg-gray-600",onClick:r[0]||(r[0]=m=>s.value=!s.value)},[s.value?(u(),R(e,{key:0,name:"tabler:check"})):x("",!0)]),d("p",null,[T(p.$slots,"default")])])}}});function X(_={}){return q.get("get_agreements",{params:_})}const Y={class:"flex flex-col items-center gap-4"},Z={class:"flex w-96 flex-col gap-2"},ee=["href"],ae={class:"text-sm"},me=k({__name:"sign-up",async setup(_){let s,p;const r=D();r.email="";const e=E({app_id:r.appID,name:"",surname:"",phone:"",email:"","g-recaptcha-response":""}),m=b(!1),v=([s,p]=F(()=>X({required_for:"account_creation"})),s=await s,p(),s),w=K(),h=b(!1);async function S(){h.value=!0;try{e["g-recaptcha-response"]=await w(),await O(e),r.email=e.email,z("/auth");const{notifySuccess:y}=P();y("Check your email for further instructions")}finally{h.value=!1}}return(y,n)=>{const f=B,g=U,$=W,C=H,N=J;return u(),c("div",Y,[d("form",Z,[o(g,{label:"Name"},{default:l(()=>[o(f,{modelValue:t(e).name,"onUpdate:modelValue":n[0]||(n[0]=a=>t(e).name=a)},null,8,["modelValue"])]),_:1}),o(g,{label:"Surname"},{default:l(()=>[o(f,{modelValue:t(e).surname,"onUpdate:modelValue":n[1]||(n[1]=a=>t(e).surname=a)},null,8,["modelValue"])]),_:1}),o(g,{label:"Phone (international format)"},{default:l(()=>[o(f,{modelValue:t(e).phone,"onUpdate:modelValue":n[2]||(n[2]=a=>t(e).phone=a)},null,8,["modelValue"])]),_:1}),o(g,{label:"Email"},{default:l(()=>[o(f,{modelValue:t(e).email,"onUpdate:modelValue":n[3]||(n[3]=a=>t(e).email=a),type:"email"},null,8,["modelValue"])]),_:1}),o($,{modelValue:t(m),"onUpdate:modelValue":n[4]||(n[4]=a=>M(m)?m.value=a:null),class:"mt-1"},{default:l(()=>[i(" I agree with "),(u(!0),c(V,null,L(t(v),(a,A)=>(u(),c(V,{key:a.id},[d("a",{href:a.uri,target:"_blank"},G(a.name),9,ee),A!==t(v).length-1?(u(),c(V,{key:0},[i(", ")],64)):x("",!0)],64))),128))]),_:1},8,["modelValue"]),o(C,{disabled:!t(m),variant:"primary",class:"mt-2",loading:t(h),onClick:S},{default:l(()=>[i(" Register ")]),_:1},8,["disabled","loading"])]),d("p",ae,[i("Already have an account? "),o(N,{to:"/auth"},{default:l(()=>[i("Sign In")]),_:1})])])}}});export{me as default};
//# sourceMappingURL=sign-up.DgPRsCkp.js.map
